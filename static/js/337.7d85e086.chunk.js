"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[337],{9337:function(n,e,t){t.r(e),t.d(e,{default:function(){return y}});var r,o,i,a,c=t(885),u=t(8479),s=t(501),d=t(6871),l=t(2791),f=t(3311),p=t(168),h=t(5751),v=h.ZP.div(r||(r=(0,p.Z)(["\n  display: flex;\n  margin-bottom: 20px;\n"]))),b=h.ZP.button(o||(o=(0,p.Z)(["\n  display: inline-block;\n  position: relative;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-left-width: 0;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  background-color: #eee;\n  border: 1px solid #bdbdbd;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  border-radius: 0.25rem;\n  transition: background-color 0.15s ease-in-out;\n\n  &:hover {\n    background-color: #bdbdbd;\n  }\n"]))),m=h.ZP.input(i||(i=(0,p.Z)(["\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  position: relative;\n  z-index: 2;\n"]))),g=h.ZP.li(a||(a=(0,p.Z)(["\n  padding: 5px;\n\n  &:nth-child(even) {\n    background-color: #d6d6d6;\n  }\n"]))),x=t(184),y=function(){var n=(0,d.TH)(),e=(0,l.useState)(""),t=(0,c.Z)(e,2),r=t[0],o=t[1],i=(0,l.useState)(null),a=(0,c.Z)(i,2),p=a[0],h=a[1],y=(0,s.lr)(),k=(0,c.Z)(y,2),Z=k[0],w=k[1],_=Z.get("query");return(0,l.useEffect)((function(){r?(0,f.mv)(r).then((function(n){return h(n)})).catch((function(n){console.log(n),u.ZP.error("Sorry. Movie is not found")})).finally(o("")):_&&(0,f.mv)(_).then((function(n){return h(n)})).catch((function(n){console.log(n),u.ZP.error("Sorry. Movie is not found")}))}),[r,_]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("form",{autoComplete:"off",onSubmit:function(n){n.preventDefault();var e=n.target,t=n.target.searchField.value;""!==t?(o(t),w({query:t}),e.reset()):u.ZP.error("Please enter a search query")},children:(0,x.jsx)("label",{children:(0,x.jsxs)(v,{children:[(0,x.jsx)(m,{type:"text",name:"searchField"}),(0,x.jsx)(b,{type:"submit",children:"Search"}),(0,x.jsx)(u.x7,{})]})})}),(0,x.jsx)("div",{children:p&&(0,x.jsxs)("ul",{children:[0===p.length?(0,x.jsx)("p",{children:"Sorry. Movie is not found"}):null,p.map((function(e){return(0,x.jsx)(g,{children:(0,x.jsx)(s.rU,{to:"/movies/".concat(e.id),state:{from:n},children:e.original_title})},e.id)}))]})})]})}},3311:function(n,e,t){t.d(e,{wr:function(){return l},mv:function(){return f},Mc:function(){return p},PQ:function(){return v},Hx:function(){return m}});var r=t(5861),o=t(7757),i=t.n(o),a=t(4569),c=t.n(a);c().defaults.baseURL="https://api.themoviedb.org/3/";var u="3f98aefed4f412e17fc5cbf8a78c872a";function s(){return d.apply(this,arguments)}function d(){return d=(0,r.Z)(i().mark((function n(){var e,t,r,o=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",n.next=3,c().get(e);case 3:return t=n.sent,r=t.data.results,n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)}))),d.apply(this,arguments)}function l(){return s("/trending/movie/day?api_key=".concat(u))}function f(n){return s("/search/movie?api_key=".concat(u,"&query=").concat(n))}function p(n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().get("/movie/".concat(e,"?api_key=").concat(u));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().get("movie/".concat(e,"/credits?api_key=").concat(u));case 2:return t=n.sent,r=t.data.cast,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().get("movie/".concat(e,"/reviews?api_key=").concat(u));case 2:return t=n.sent,r=t.data.results,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=337.7d85e086.chunk.js.map